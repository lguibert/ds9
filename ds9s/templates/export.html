{% extends "base.html" %}
{% load ds9s_extras %}

{% block flyJs %}
	<script type="text/javascript" src="//cdn.datatables.net/1.10.4/js/jquery.dataTables.min.js"></script>
      <script type="text/javascript">
        $(document).ready(function(){
        	$('#firstTable tfoot th').each( function () {
		    	var title = $('#firstTable thead th').eq( $(this).index() ).text();
		        $(this).html( '<input type="text" placeholder="'+title+'" />' );
		    });

        	var table = $("#firstTable").DataTable();

	        table.columns().eq( 0 ).each( function ( colIdx ) {
		        $( 'input', table.column( colIdx ).footer() ).on( 'keyup change', function () {
		            table
		                .column( colIdx )
		                .search( this.value )
		                .draw();
		        } );
		    });
        });        
          
      </script>
{% endblock %}

{% block flyCss %}
    <link rel="stylesheet" href="//cdn.datatables.net/1.10.4/css/jquery.dataTables.min.css">
    {%load static %}
	<link rel="stylesheet" href="{%static 'flyJumbo.css'%}"/>
{% endblock %}

{% block head %}
	<h1 id="headGalaxy">Export</h1>
{% endblock %}

{% block content %}
	<table id="firstTable" class="table table-hover">
			<thead>
				<tr>
					<th>Unique id</th>
					<th>Field id</th>
					<th>Contaminated</th>
					<th>Galaxy type</th>
					<th>Redshift</th>
					<th>X sky</th>
					<th>Y sky</th>
				</tr>
			</thead>
			<tfoot>
	            <tr>
	                <th>Unique id</th>
					<th>Field id</th>
					<th>Contaminated</th>
					<th>Galaxy type</th>
					<th>Redshift</th>
					<th>X sky</th>
					<th>Y sky</th>
	            </tr>
        	</tfoot>
			<tbody>
				{% for iden in idens %}
					<tr class="firstLine">
						<td>{{iden.galaxy.uniq_id}}</td>
						<td>{{iden.galaxy.parfolder.fieldId_par}}</td>
						<td>{{iden.contaminated}}</td>
						<td>{{iden.galaxytype}}</td> 
						<td>{{iden.redshift}}</td>
						<td>{{featuresX|keyvalue:forloop.counter0}}</td> 
						<td>{{featuresY|keyvalue:forloop.counter0}}</td>		
					</tr>
				{% endfor %}
			</tbody>
		</table>

{% endblock %}
